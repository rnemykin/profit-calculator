<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">

    <changeSet id="20.07.2017-1-10" author="rnemykin">
        <insert tableName="product">
            <column name="name">Накопительный счет</column>
            <column name="type">SAVING_ACCOUNT</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">2</column>
        </insert>

        <insert tableName="saving_account">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
        </insert>

        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM saving_account ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">1</column>
            <column name="rate">4</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM saving_account ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">3</column>
            <column name="rate">5</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM saving_account ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">6</column>
            <column name="rate">6</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM saving_account ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">12</column>
            <column name="rate">8.5</column>
        </insert>
    </changeSet>

    <changeSet id="20.07.2017-1-11" author="rnemykin">
        <insert tableName="product">
            <column name="name">Выгодный</column>
            <column name="type">DEPOSIT</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">1</column>
        </insert>

        <insert tableName="deposit">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
            <column name="deposit_type">PROFITABLE</column>
            <column name="nominal_rate">7.4</column>
            <column name="refill">false</column>
            <column name="withdrawal">false</column>
            <column name="early_cancellation">true</column>
            <column name="min_period">92</column>
            <column name="max_period">1830</column>
            <column name="privilege_sum">2000001</column>
            <column name="privilege_rate">7.6</column>
            <column name="private_banking_sum">15000001</column>
            <column name="private_banking_rate">7.9</column>
        </insert>

        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">91</column>
            <column name="rate">7.4</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">181</column>
            <column name="rate">7.2</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">395</column>
            <column name="rate">7.05</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">546</column>
            <column name="rate">6.7</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">732</column>
            <column name="rate">6.35</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">1102</column>
            <column name="rate">3.1</column>
        </insert>
    </changeSet>

    <changeSet id="20.07.2017-1-12" author="rnemykin">
        <insert tableName="product">
            <column name="name">Накопительный</column>
            <column name="type">DEPOSIT</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">1</column>
        </insert>

        <insert tableName="deposit">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
            <column name="deposit_type">ACCUMULATIVE</column>
            <column name="nominal_rate">6.95</column>
            <column name="refill">true</column>
            <column name="withdrawal">false</column>
            <column name="early_cancellation">false</column>
            <column name="min_period">91</column>
            <column name="max_period">1830</column>
            <column name="last_refill_day_remains">30</column>
            <column name="privilege_sum">2000001</column>
            <column name="privilege_rate">7.6</column>
            <column name="private_banking_sum">15000001</column>
            <column name="private_banking_rate">7.9</column>
        </insert>

        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">91</column>
            <column name="rate">6.95</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">181</column>
            <column name="rate">6.75</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">395</column>
            <column name="rate">6.3</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">546</column>
            <column name="rate">5.9</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">732</column>
            <column name="rate">5.65</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">1102</column>
            <column name="rate">2.75</column>
        </insert>
    </changeSet>

    <changeSet id="20.07.2017-1-13" author="rnemykin">
        <insert tableName="product">
            <column name="name">Комфортный</column>
            <column name="type">DEPOSIT</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">1</column>
        </insert>

        <insert tableName="deposit">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
            <column name="deposit_type">COMFORT</column>
            <column name="nominal_rate">4.1</column>
            <column name="refill">true</column>
            <column name="withdrawal">true</column>
            <column name="early_cancellation">false</column>
            <column name="min_period">181</column>
            <column name="max_period">1830</column>
            <column name="last_refill_day_remains">30</column>
            <column name="privilege_sum">2000001</column>
            <column name="privilege_rate">7.6</column>
            <column name="private_banking_sum">15000001</column>
            <column name="private_banking_rate">7.9</column>
        </insert>

        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">181</column>
            <column name="rate">4.1</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">395</column>
            <column name="rate">4</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">546</column>
            <column name="rate">3.85</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">732</column>
            <column name="rate">3.8</column>
        </insert>
        <insert tableName="product_rate">
            <column name="product_id" valueComputed="(SELECT id FROM deposit ORDER BY id DESC LIMIT 1)"/>
            <column name="from_period">1102</column>
            <column name="rate">1.9</column>
        </insert>
    </changeSet>

    <changeSet id="20.07.2017-1-14" author="rnemykin">
        <insert tableName="product">
            <column name="name">Мультикарта</column>
            <column name="type">CARD</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">2</column>
        </insert>

        <insert tableName="card">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
            <column name="card_type">MIR</column>
            <column name="card_category">CREDIT</column>
        </insert>

        <insert tableName="product">
            <column name="name">Мультикарта</column>
            <column name="type">CARD</column>
            <column name="status">ACTIVE</column>
            <column name="create_date">now()</column>
            <column name="update_date">now()</column>
            <column name="weight">2</column>
        </insert>
        <insert tableName="card">
            <column name="id" valueComputed="(SELECT id FROM product ORDER BY id DESC LIMIT 1)"/>
            <column name="card_type">MC</column>
            <column name="card_category">DEBIT</column>
        </insert>
    </changeSet>

    <changeSet id="22.07.2017-1-15" author="rnemykin">
        <insert tableName="card_option">
            <column name="name">Авто</column>
            <column name="option">AUTO</column>
            <column name="rate1">2</column>
            <column name="rate2">5</column>
            <column name="rate3">10</column>
        </insert>
        <insert tableName="card_option">
            <column name="name">Развлечения</column>
            <column name="option">CAFE</column>
            <column name="rate1">2</column>
            <column name="rate2">5</column>
            <column name="rate3">10</column>
        </insert>
        <insert tableName="card_option">
            <column name="name">Cashback</column>
            <column name="option">CASH_BACK</column>
            <column name="rate1">1</column>
            <column name="rate2">1.5</column>
            <column name="rate3">2</column>
        </insert>
        <insert tableName="card_option">
            <column name="name">Путешествия</column>
            <column name="option">TRAVEL</column>
            <column name="rate1">1</column>
            <column name="rate2">2</column>
            <column name="rate3">4</column>
        </insert>
        <insert tableName="card_option">
            <column name="name">Коллекция</column>
            <column name="option">COLLECTION</column>
            <column name="rate1">1</column>
            <column name="rate2">2</column>
            <column name="rate3">4</column>
        </insert>
        <insert tableName="card_option">
            <column name="name">Сбережения</column>
            <column name="option">SAVING</column>
            <column name="rate1">0.5</column>
            <column name="rate2">1</column>
            <column name="rate3">1.5</column>
        </insert>
    </changeSet>

    <changeSet id="20.07.2017-1-15" author="rnemykin">
        <insert tableName="refill_option">
            <column name="name">Копилка на фикс.сумму</column>
            <column name="event_type">FIXED_DATE</column>
            <column name="refill_sum_type">FIXED_SUM</column>
        </insert>
        <insert tableName="refill_option">
            <column name="name">Копилка от зачислений</column>
            <column name="event_type">TRANSFER</column>
            <column name="refill_sum_type">FIXED_PERCENTAGE</column>
        </insert>
        <insert tableName="refill_option">
            <column name="name">Копилка от расходов</column>
            <column name="event_type">CARD_PURCHASES</column>
            <column name="refill_sum_type">IN_OUT_SUM_PERCENTAGE</column>
        </insert>
        <insert tableName="refill_option">
            <column name="name">Сдача с покупки</column>
            <column name="event_type">CARD_PURCHASES</column>
            <column name="refill_sum_type">PAYMENT_CHANGE</column>
        </insert>
    </changeSet>

</databaseChangeLog>
